<?php
 if ( ! defined( 'ABSPATH' ) ) { exit; } if ( isset( $_POST['update_settings'] ) ) { $settings = ( !empty( $_POST['wpc_settings'] ) ) ? $_POST['wpc_settings'] : array(); do_action( 'wp_client_settings_update', $settings, 'business_info' ); $this->redirect( $this->settings()->get_current_setting_url() . '&msg=u' ); } $section_fields = array( array( 'type' => 'title', 'label' => __( 'General Business Information', WPC_CLIENT_TEXT_DOMAIN ), )); $wpc_business_info = $this->cc_get_settings( 'business_info' ); $fields = $this->get_business_info_fields(); foreach( $fields as $key => $value ) { $type = in_array( $key, array( 'business_address', 'business_mailing_address' ) ) ? 'textarea' : 'text'; $section_fields[] = array( 'id' => $key, 'type' => $type, 'label' => $value, 'value' => ( isset( $wpc_business_info[$key] ) ) ? $wpc_business_info[$key] : '', 'description' => __( 'for placeholder', WPC_CLIENT_TEXT_DOMAIN ) . ' {' . $key . '}', ); } $this->settings()->render_settings_section( $section_fields );